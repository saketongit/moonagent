<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Moon Today ðŸŒ™</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      text-align: center;
      background: #000000;
      color: #ffffff;
      margin: 0;
      padding: 40px 20px;
    }

    h1 {
      font-weight: 500;
      margin-bottom: 10px;
    }

    .hero {
      max-width: 90%;
      margin: 30px auto 60px;
      border-radius: 12px;
    }

    .gallery-title {
      margin-top: 60px;
      margin-bottom: 20px;
      opacity: 0.8;
      font-size: 18px;
    }

    .gallery {
      display: flex;
      flex-direction: column;
      gap: 30px;
      align-items: center;
    }

    .gallery-item img {
      max-width: 300px;
      border-radius: 8px;
    }

    .date {
      margin-top: 8px;
      font-size: 14px;
      opacity: 0.7;
    }
  </style>
</head>
<body>

  <h1>Moon Today ðŸŒ™</h1>
  <p>8 PM everyday</p>

  <!-- Hero image -->
  <img class="hero" src="images/latest.jpg" alt="Moon today">

  <!-- Gallery -->

  <div class="gallery" id="gallery"></div>

  .month-divider {
  margin: 40px 0;
  font-size: 18px;
  opacity: 0.8;
  cursor: pointer;
  user-select: none;
}

.month-divider:hover {
  opacity: 1;
}

.month-section {
  display: none;
}

.month-section.active {
  display: flex;
  flex-direction: column;
  gap: 30px;
  align-items: center;
}


<script>
fetch("gallery.json")
  .then(response => response.json())
  .then(data => {
    const galleryEl = document.getElementById("gallery");

    // 1ï¸âƒ£ Group images by month (YYYY-MM)
    const months = {};
    data.images.forEach(item => {
      const monthKey = item.date.slice(0, 7); // "2026-02"
      if (!months[monthKey]) {
        months[monthKey] = [];
      }
      months[monthKey].push(item);
    });

    // 2ï¸âƒ£ Sort months descending (latest first)
    const sortedMonths = Object.keys(months).sort().reverse();

    let activeMonth = sortedMonths[0]; // latest month

    sortedMonths.forEach((monthKey, index) => {
      // Create month section
      const section = document.createElement("div");
      section.className = "month-section";
      section.dataset.month = monthKey;

      if (monthKey === activeMonth) {
        section.classList.add("active");
      }

      // Add images for this month
      months[monthKey].forEach(item => {
        const wrapper = document.createElement("div");
        wrapper.className = "gallery-item";

        const img = document.createElement("img");
        img.src = item.file;
        img.alt = "Moon " + item.date;

        const date = document.createElement("div");
        date.className = "date";
        date.textContent = item.date;

        wrapper.appendChild(img);
        wrapper.appendChild(date);
        section.appendChild(wrapper);
      });

      galleryEl.appendChild(section);

      // Add divider (except after last month)
      if (index < sortedMonths.length - 1) {
        const divider = document.createElement("div");
        divider.className = "month-divider";

        const [year, month] = monthKey.split("-");
        const label = new Date(year, month - 1)
          .toLocaleString("default", { month: "long", year: "numeric" });

        divider.textContent = label + " â–¸";

        divider.addEventListener("click", () => {
          document.querySelectorAll(".month-section").forEach(sec => {
            sec.classList.remove("active");
          });

          section.classList.add("active");
          section.scrollIntoView({ behavior: "smooth" });
        });

        galleryEl.appendChild(divider);
      }
    });
  })
  .catch(err => {
    console.error("Failed to load gallery.json", err);
  });
</script>
    })
    .catch(err => {
      console.error("Failed to load gallery.json", err);
    });
 </script>



</body>
</html>
